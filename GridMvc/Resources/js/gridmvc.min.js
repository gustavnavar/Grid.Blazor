window.pageGrids=window.pageGrids||{};$.fn.extend({gridmvc:function(){var n=[];return($(this).each(function(){if($(this).data("gridmvc"))n.push($(this).data("gridmvc"));else{var i={lang:$(this).attr("data-lang"),selectable:$(this).attr("data-selectable")==="true",extsortable:$(this).attr("data-extsortable")==="true",multiplefilters:$(this).attr("data-multiplefilters")==="true",currentPage:$(this).find(".grid-pager").first().attr("data-currentpage")},t=new GridMvc(this,i),r=$(this).attr("data-gridname");r.length>0&&(window.pageGrids[$(this).attr("data-gridname")]=t);n.push(t);$(this).data("gridmvc",t)}}),n.length===1)?n[0]:n}});GridMvc=function(n){function t(t,i){this.jqContainer=n(t);i=i||{};this.options=n.extend({},this.defaults(),i);this.init()}return t.prototype.init=function(){this.lang=GridMvc.lang[this.options.lang];typeof this.lang=="undefined"&&(this.lang=GridMvc.lang.en);this.events=[];this.options.selectable&&this.initGridRowsEvents();this.filterWidgets=[];this.addFilterWidget(new TextFilterWidget);this.addFilterWidget(new NumberFilterWidget);this.addFilterWidget(new DateTimeFilterWidget);this.addFilterWidget(new BooleanFilterWidget);this.addFilterWidget(new ListFilterWidget);this.openedMenuBtn=null;this.initFilters();this.initSearch();this.initExtSort();this.initGroup();this.initChangePageSize();this.initRemoveAllFilters()},t.prototype.initGridRowsEvents=function(){var n=this;this.jqContainer.on("click",".grid-row",function(){n.rowClicked.call(this,n)})},t.prototype.rowClicked=function(t){var i,r,u;t.options.selectable&&((i=n(this).closest(".grid-row"),i.length<=0)||(r={},i.find(".grid-cell").each(function(){var t=n(this).attr("data-name");t.length>0&&(r[t]=n(this).text())}),u=n.Event("RowClicked"),t.notifyOnRowSelect(r,u),u.isDefaultPrevented()||t.markRowSelected(i)))},t.prototype.markRowSelected=function(n){this.jqContainer.find(".grid-row.grid-row-selected").removeClass("grid-row-selected");n.addClass("grid-row-selected")},t.prototype.defaults=function(){return{selectable:!0,multiplefilters:!1,lang:"en"}},t.prototype.onRowSelect=function(n){this.events.push({name:"onRowSelect",callback:n})},t.prototype.notifyOnRowSelect=function(n,t){t.row=n;this.notifyEvent("onRowSelect",t)},t.prototype.notifyEvent=function(n,t){for(var i=0;i<this.events.length;i++)if(this.events[i].name===n&&!this.events[i].callback(t))break},t.prototype.initFilters=function(){var i=this.filterMenuHtml(),t=this;this.jqContainer.find(".grid-filter").each(function(){n(this).click(function(){return t.openFilterPopup.call(this,t,i)})})},t.prototype.openFilterPopup=function(t,i){var s=n(this).attr("data-type")||"",l=n(this).attr("data-isnullable")||"",r=t.getFilterWidgetForType(s),u,f,h,o,c;if(r===null)return!1;if(u=n(this).attr("data-name")||"",this.hasAttribute("data-rendered")){if(f=t.openMenuOnClick.call(this,t),t.setupPopupInitialPosition(n(this)),!f&&typeof r.onShow!="undefined")r.onShow(u);return f}var a=n(this).attr("data-filterdata")||"",v=n(this).attr("data-widgetdata")||"{}",y=t.parseFilterValues(a)||{},e=n(this).attr("data-url")||"";if(n(this).attr("data-rendered","1"),n(this).append(i),h=n(this).find(".grid-popup-widget"),typeof r.onRender!="undefined")r.onRender(h,t.lang,s,u,l,y,function(n){t.closeOpenedPopups();t.applyFilterValues(e,u,n,!1)},n.parseJSON(v));if(n(this).find(".grid-filter-btn").hasClass("filtered")&&r.showClearFilterButton()&&(o=n(this).find(".grid-popup-additional"),o.append(t.getClearFilterButton(e)),o.find(".grid-filter-clear").click(function(){t.applyFilterValues(e,u,"",!0)})),c=t.openMenuOnClick.call(this,t),typeof r.onShow!="undefined")r.onShow(u);return t.setupPopupInitialPosition(n(this)),c},t.prototype.setupPopupInitialPosition=function(t){function e(){var n=t.find(".grid-dropdown-arrow");return{arrow:n,currentDropLeft:parseInt(r.css("left")),currentArrowLeft:parseInt(n.css("left"))}}var r=t.find(".grid-dropdown"),u=r.offset().left,i,o,f;if(u<0){i=e();i.arrow.css({left:i.currentArrowLeft+u-10+"px"});r.css({left:i.currentDropLeft-u+10+"px"});return}o=r.width();f=n(window).width()+n(window).scrollLeft()-(u+o);f<0&&(i=e(),i.arrow.css({left:i.currentArrowLeft-f+5+"px"}),r.css({left:i.currentDropLeft+f-5+"px"}))},t.prototype.filterMenuHtml=function(){return'<div class="dropdown dropdown-menu grid-dropdown" style="display: none;">                    <div class="grid-dropdown-arrow"><\/div>                    <div class="grid-dropdown-inner">                            <div class="grid-popup-widget"><\/div>                            <div class="grid-popup-additional"><\/div>                    <\/div>                <\/div>'},t.prototype.getClearFilterButton=function(){return'<ul class="menu-list">                    <li><a class="grid-filter-clear" href="javascript:void(0);">'+this.lang.clearFilterLabel+"<\/a><\/li>                <\/ul>"},t.prototype.addFilterWidget=function(n){this.filterWidgets.push(n)},t.prototype.parseFilterValues=function(t){for(var r=n.parseJSON(t),u=[],i=0;i<r.length;i++)u.push({filterValue:this.urldecode(r[i].FilterValue),filterType:r[i].FilterType,columnName:r[i].ColumnName});return u},t.prototype.urldecode=function(n){return decodeURIComponent((n+"").replace(/\+/g,"%20"))},t.prototype.getFilterWidgetForType=function(t){for(var i=0;i<this.filterWidgets.length;i++)if(n.inArray(t,this.filterWidgets[i].getAssociatedTypes())>=0)return this.filterWidgets[i];return null},t.prototype.replaceFilterWidget=function(t,i){for(var r=0;r<this.filterWidgets.length;r++)if(n.inArray(t,this.filterWidgets[r].getAssociatedTypes())>=0)return this.filterWidgets.splice(r,1),this.addFilterWidget(i),!0;return!1},t.prototype.applyFilterValues=function(t,i,r,u){var s=this.jqContainer.find(".grid-filter"),y=this.jqContainer.attr("data-initfilters"),h,a,o,f,e,v,c,l;if(h=y?y.split(","):[],a=this.jqContainer.find(".grid-filter").attr("data-clearinitfilter"),o=a?a.split(","):[],h.includes(i)&&!o.includes(i)&&o.push(i),t.length>0&&(t+="&"),f="",u||(f+=this.getFilterQueryData(i,r)),this.options.multiplefilters){for(e=0;e<s.length;e++)if(n(s[e]).attr("data-name")!==i){if(v=this.parseFilterValues(n(s[e]).attr("data-filterdata")),v.length===0)continue;f.length>0&&(f+="&");f+=this.getFilterQueryData(n(s[e]).attr("data-name"),v)}else continue;for(c=0;c<o.length;c++)f.length>0&&(f+="&"),f+="grid-clearinitfilter="+o[c]}else for(l=0;l<h.length;l++)f.length>0&&(f+="&"),f+="grid-clearinitfilter="+h[l];window.location.search=t+f},t.prototype.getFilterQueryData=function(n,t){for(var r="",i=0;i<t.length;i++)r+="grid-filter="+encodeURIComponent(n)+"__"+t[i].filterType+"__"+encodeURIComponent(t[i].filterValue),i!==t.length-1&&(r+="&");return r},t.prototype.openMenuOnClick=function(t){if(n(this).hasClass("clicked"))return!0;t.closeOpenedPopups();n(this).addClass("clicked");var i=n(this).find(".dropdown-menu");return i.length===0?!0:(i.show(),i.addClass("opened"),t.openedMenuBtn=n(this),n(document).bind("click.gridmvc",function(n){t.documentCallback(n,t)}),!1)},t.prototype.documentCallback=function(t,i){t=t||event;var r=t.target||t.srcElement,u=n(".dropdown-menu.opened").get(0),f=n("html").get(0);if(typeof u!="undefined")do{if(u===r)return;f===r&&(u.style.display="none",n(u).removeClass("opened"));r=r.parentNode}while(r);i.openedMenuBtn!==null&&i.openedMenuBtn.removeClass("clicked");n(document).unbind("click.gridmvc")},t.prototype.closeOpenedPopups=function(){var t=n(".dropdown-menu.opened");t.hide();t.removeClass("opened");this.openedMenuBtn!==null&&this.openedMenuBtn.removeClass("clicked")},t.prototype.selectable=function(n){this.options.selectable=n},t.prototype.initSearch=function(){var t=this;this.jqContainer.find(".grid-search-apply").each(function(){n(this).click(function(){var n=t.jqContainer.find(".grid-search-input").first().val();t.applySearchValues(n,!1)})});this.jqContainer.find(".grid-search-input").each(function(){n(this).keyup(function(i){if(i.keyCode===13){var r=n(this).val();t.applySearchValues(r,!1)}})});this.jqContainer.find(".grid-search-clear").each(function(){n(this).click(function(){t.applySearchValues("",!0)})})},t.prototype.applySearchValues=function(n,t){var i="",f=this.jqContainer.find(".grid-search").first(),r,u,e;if(f&&(i=f.attr("data-search-url")||""),t){for(i=i.length&&i[0]==="?"?i.slice(1):i,r=i.split("&"),u=r.length-1;u>=0;u--)e=r[u].split("="),e[0]==="grid-search"&&r.splice(u,1);i=r.join("&")}else i.length>0&&(i+="&"),i+=this.getSearchQueryData(n);window.location.search=i},t.prototype.getSearchQueryData=function(n){var t="";return n&&(t+="grid-search="+encodeURIComponent(n)),t},t.prototype.initExtSort=function(){var t=this;this.jqContainer.find(".grid-extsort-draggable").each(function(){n(this).on("dragstart",function(n){n.originalEvent.dataTransfer.setData("text",n.target.text);n.originalEvent.dataTransfer.setData("column",n.target.dataset.column);n.target.dataset.sorted&&n.originalEvent.dataTransfer.setData("sorted",n.target.dataset.sorted)})});this.jqContainer.find(".grid-extsort-droppable").each(function(){n(this).on("dragenter",function(t){t.preventDefault();t.stopPropagation();n(this).addClass("folderDragOver")});n(this).on("dragover",function(n){n.preventDefault();n.stopPropagation();n.originalEvent.dataTransfer.dropEffect="move"});n(this).on("dragleave",function(){n(this).removeClass("folderDragOver")});n(this).on("drop",function(i){n(this).removeClass("folderDragOver");i.preventDefault();i.stopPropagation();i.stopImmediatePropagation();var r=i.originalEvent.dataTransfer.getData("column"),u=i.originalEvent.dataTransfer.getData("sorted")==="desc"?1:0;r&&r!=="undefined"&&t.applyExtSortValues(r,u,1)})})},t.prototype.applyExtSortValues=function(n,t){var i="",r,u=this.jqContainer.find(".grid-extsort-droppable").first(),f,e;if(u){if(i=u.attr("data-extsort-url")||"",f="grid-sorting="+n,e=new RegExp(f,"g"),r=i.match(e),r)return;r=i.match(/grid-sorting=/g)}i.length>0&&(i+="&");r=r?r.length+1:1;i+=this.getExtSortQueryData(n,t,r);window.location.search=i},t.prototype.getExtSortQueryData=function(n,t,i){var r="";return n&&n!=="undefined"&&(r+="grid-sorting="+encodeURIComponent(n)+"__"+t+"__"+i),r},t.prototype.initGroup=function(){var t=this;this.jqContainer.find(".grid-group").each(function(){n(this).click(function(i){i.stopPropagation();var r=n(this).attr("data-group-id");n(this).hasClass("grid-group-caret")?(n(this).removeClass("grid-group-caret"),n(this).addClass("grid-group-caret-down"),t.jqContainer.find("[data-group-row-id="+r+"]").show(),t.jqContainer.find("[data-group-subrow-id="+r+"]").each(function(){var t=n(this),i=t.prev().children(".grid-subgrid").first();i&&i.attr("data-is-visible")==="true"&&t.show()}),t.jqContainer.find("[data-group-parent-id="+r+"]").each(function(){n(this).show();n(this).find(".grid-group").each(function(){n(this).hasClass("grid-group-caret")&&n(this).trigger("click")})})):n(this).hasClass("grid-group-caret-down")&&(n(this).removeClass("grid-group-caret-down"),n(this).addClass("grid-group-caret"),t.jqContainer.find("[data-group-row-id="+r+"]").hide(),t.jqContainer.find("[data-group-subrow-id="+r+"]").hide(),t.jqContainer.find("[data-group-parent-id="+r+"]").each(function(){n(this).hide();n(this).find(".grid-group").each(function(){n(this).hasClass("grid-group-caret-down")&&n(this).trigger("click")})}))})})},t.prototype.initChangePageSize=function(){var t=this;this.jqContainer.find(".grid-change-page-size-input").each(function(){n(this).keydown(function(i){if(i.keyCode===9||i.keyCode===13){var r=n(this).val(),u=parseInt(r,10);u>0?t.changePageSize(r):n(this).val(this.defaultValue)}})})},t.prototype.changePageSize=function(n){var r=parseInt(n,10),t,i;r<=0||(t="",i=this.jqContainer.find(".grid-change-page-size").first(),i&&(t=i.attr("data-change-page-size-url")||""),t.length>0&&(t+="&"),t+=this.getPageSizeQueryData(n),window.location.search=t)},t.prototype.getPageSizeQueryData=function(n){var t="";return n&&(t+="grid-pagesize="+encodeURIComponent(n)),t},t.prototype.initRemoveAllFilters=function(){var t=this;this.jqContainer.find(".grid-button-all-filters-clear").each(function(){n(this).click(function(){t.removeAllFilters()})})},t.prototype.removeAllFilters=function(){var n="",t=this.jqContainer.find(".grid-button-all-filters-clear").first();t&&(n=t.attr("data-all-filters-clear-url")||"");window.location.search=n},t}(window.jQuery);typeof GridMvc.lang=="undefined"&&(GridMvc.lang={});GridMvc.lang.en={filterTypeLabel:"Type: ",filterValueLabel:"Value:",applyFilterButtonText:"Apply",filterSelectTypes:{Equals:"Equals",NotEquals:"Not equals",StartsWith:"Starts with",Contains:"Contains",EndsWith:"Ends with",GreaterThan:"Greater than",LessThan:"Less than",GreaterThanOrEquals:"Greater than or equals",LessThanOrEquals:"Less than or equals",And:"And",Or:"Or",IsNull:"Is null",IsNotNull:"Is not null"},code:"en",boolTrueLabel:"Yes",boolFalseLabel:"No",clearFilterLabel:"Clear filter"};TextFilterWidget=function(n){function t(){}return t.prototype.getAssociatedTypes=function(){return["System.String","System.Guid"]},t.prototype.onShow=function(n){var t=this.filterData[n].container.find(".grid-filter-type");t.length<=0||t.last().focus()},t.prototype.showClearFilterButton=function(){return!0},t.prototype.onRender=function(n,t,i,r,u,f,e){this.cb=e;this.lang=t;this.filterData||(this.filterData={});this.filterData[r]||(this.filterData[r]={});this.filterData[r].container=n;this.filterData[r].typeName=i;var o=f.find(n=>n.filterType===9&&n.filterValue&&n.columnName===r);this.filterData[r].condition=o?o.filterValue:"1";this.filterData[r].values=f.filter(n=>n.filterType!==9&&n.columnName===r);this.filterData[r].values||(this.filterData[r].values=[]);this.filterData[r].values.length===0&&this.filterData[r].values.push({filterType:"2",filterValue:"",columnName:r});this.renderWidget(r);this.registerEvents(r)},t.prototype.renderWidget=function(n){for(var r,i='<div class="grid-filter-body">',t=0;t<this.filterData[n].values.length;t++)t===1?i+='<div class="form-group row">                            <div class="col-md-4 col-md-offset-4 offset-md-4">                                <select class="grid-filter-cond form-control">                                    <option value="1" '+(this.filterData[n].condition==="1"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.And+'<\/option>                                    <option value="2" '+(this.filterData[n].condition==="2"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.Or+"<\/option>                                <\/select>                            <\/div>                        <\/div>":t>1&&(i+='<div class="form-group row">                            <div class="col-md-4 col-md-offset-4 offset-md-4">                                <select class="grid-filter-conddis form-control" disabled="disabled">                                    <option value="1" '+(this.filterData[n].condition==="1"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.And+'<\/option>                                    <option value="2" '+(this.filterData[n].condition==="2"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.Or+"<\/option>                                <\/select>                            <\/div>                        <\/div>"),i+='<div class="form-group row">                        <div class="col-md-6">',t===0&&(i+='<label class="control-label">'+this.lang.filterTypeLabel+"<\/label>"),i+='<div>                                <select class="grid-filter-type form-control">                                    <option value="2" '+(this.filterData[n].values[t].filterType.toString()==="2"?'selected="selected"':"")+" > "+this.lang.filterSelectTypes.Contains+'<\/option >                                    <option value="1" '+(this.filterData[n].values[t].filterType.toString()==="1"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.Equals+'<\/option>                                    <option value="10" '+(this.filterData[n].values[t].filterType.toString()==="10"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.NotEquals+'<\/option>                                    <option value="3" '+(this.filterData[n].values[t].filterType.toString()==="3"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.StartsWith+'<\/option>                                    <option value="4" '+(this.filterData[n].values[t].filterType.toString()==="4"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.EndsWith+'<\/option>                                    <option value="11" '+(this.filterData[n].values[t].filterType.toString()==="11"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.IsNull+'<\/option>                                    <option value="12" '+(this.filterData[n].values[t].filterType.toString()==="12"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.IsNotNull+'<\/option>                                <\/select>                            <\/div>                        <\/div>                        <div class="col-md-6">',t===0&&(i+='<label class="control-label">'+this.lang.filterValueLabel+"<\/label>"),i+='<div>                                <input type="text" class="grid-filter-input form-control" value="'+decodeURIComponent((this.filterData[n].values[t].filterValue+"").replace(/\+/g,"%20"))+'" />                            <\/div>                        <\/div>                    <\/div > ';i+='<div class="grid-filter-buttons" style="float:right;">                    <button type ="button" class="btn btn-primary grid-add"><b>+<\/b><\/button>';this.filterData[n].values.length>1&&(i+='<button type="button" class="btn btn-primary grid-remove" style="margin-left:10px;"><b>-<\/b><\/button>');i+="<\/div>";i+='<div class="grid-filter-buttons" style="margin-top:10px;">                    <button type="button" class="btn btn-primary grid-apply" >'+this.lang.applyFilterButtonText+"<\/button>                 <\/div>            <\/div> ";r=this.filterData[n].container.find(".grid-filter-body");r&&r.remove();this.filterData[n].container.append(i)},t.prototype.registerEvents=function(t){var u=this.filterData[t].container.find(".grid-apply"),r=this,i=this.filterData[t],f,e,o;u.click(function(){var f=i.container.find(".grid-filter-cond").val(),u=i.container.find(".grid-filter-type"),e=i.container.find(".grid-filter-input"),t,n;if(u.length===e.length){for(t=[],f&&t.push({filterType:"9",filterValue:f}),n=0;n<u.length;n++)t.push({filterType:u[n].value,filterValue:e[n].value});r.cb(t)}});this.filterData[t].container.find(".grid-filter-input").keyup(function(n){n.keyCode===13&&u.click();n.keyCode===27&&GridMvc.closeOpenedPopups()});f=this.filterData[t].container.find(".grid-add");f.click(function(){var f=i.container.find(".grid-filter-cond").val(),u=i.container.find(".grid-filter-type"),e=i.container.find(".grid-filter-input"),n;if(u.length===e.length){for(i.values=[],f&&(i.condition=f),n=0;n<u.length;n++)i.values.push({filterType:u[n].value,filterValue:e[n].value,columnName:t});i.values.push({filterType:"2",filterValue:"",columnName:t});r.renderWidget(t);r.registerEvents(t);r.onShow(t)}});e=this.filterData[t].container.find(".grid-remove");e.click(function(){var e=i.container.find(".grid-filter-cond").val(),u=i.container.find(".grid-filter-type"),f=i.container.find(".grid-filter-input"),n;if(u.length===f.length){for(i.values=[],e&&(i.condition=e),n=0;n<u.length;n++)i.values.push({filterType:u[n].value,filterValue:f[n].value,columnName:t});i.values.splice(f.length-1,1);r.renderWidget(t);r.registerEvents(t);r.onShow(t)}});o=this.filterData[t].container.find(".grid-filter-cond");o.change(function(){n(".grid-filter-conddis").val(this.value)})},t}(window.jQuery);NumberFilterWidget=function(n){function t(){}return t.prototype.showClearFilterButton=function(){return!0},t.prototype.getAssociatedTypes=function(){return["System.Int32","System.Double","System.Decimal","System.Byte","System.Single","System.Float","System.Int64","System.Int16","System.UInt64","System.UInt32","System.UInt16"]},t.prototype.onShow=function(n){var t=this.filterData[n].container.find(".grid-filter-type");t.length<=0||t.last().focus()},t.prototype.onRender=function(n,t,i,r,u,f,e){this.cb=e;this.lang=t;this.filterData||(this.filterData={});this.filterData[r]||(this.filterData[r]={});this.filterData[r].container=n;this.filterData[r].typeName=i;var o=f.find(n=>n.filterType===9&&n.filterValue&&n.columnName===r);this.filterData[r].condition=o?o.filterValue:"1";this.filterData[r].values=f.filter(n=>n.filterType!==9&&n.columnName===r);this.filterData[r].values||(this.filterData[r].values=[]);this.filterData[r].values.length===0&&this.filterData[r].values.push({filterType:"1",filterValue:"",columnName:r});this.renderWidget(r,u);this.registerEvents(r,u)},t.prototype.renderWidget=function(n,t){for(var u,r='<div class="grid-filter-body">',i=0;i<this.filterData[n].values.length;i++)i===1?r+='<div class="form-group row">                            <div class="col-md-4 col-md-offset-4 offset-md-4">                                <select class="grid-filter-cond form-control">                                    <option value="1" '+(this.filterData[n].condition==="1"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.And+'<\/option>                                    <option value="2" '+(this.filterData[n].condition==="2"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.Or+"<\/option>                                <\/select>                            <\/div>                        <\/div>":i>1&&(r+='<div class="form-group row">                            <div class="col-md-4 col-md-offset-4 offset-md-4">                                <select class="grid-filter-conddis form-control" disabled="disabled">                                    <option value="1" '+(this.filterData[n].condition==="1"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.And+'<\/option>                                    <option value="2" '+(this.filterData[n].condition==="2"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.Or+"<\/option>                                <\/select>                            <\/div>                        <\/div>"),r+='<div class="form-group row">                        <div class="col-md-6">',i===0&&(r+='<label class="control-label">'+this.lang.filterTypeLabel+"<\/label>"),r+='<div>                                <select class="grid-filter-type form-control">                                    <option value="1" '+(this.filterData[n].values[i].filterType.toString()==="1"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.Equals+'<\/option>                                    <option value="10" '+(this.filterData[n].values[i].filterType.toString()==="10"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.NotEquals+'<\/option>                                    <option value="5" '+(this.filterData[n].values[i].filterType.toString()==="5"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.GreaterThan+'<\/option>                                    <option value="6" '+(this.filterData[n].values[i].filterType.toString()==="6"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.LessThan+'<\/option>                                    <option value="7" '+(this.filterData[n].values[i].filterType.toString()==="7"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.GreaterThanOrEquals+'<\/option>                                    <option value="8" '+(this.filterData[n].values[i].filterType.toString()==="8"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.LessThanOrEquals+"<\/option>",t.toLowerCase()==="true"&&(r+='<option value="11" '+(this.filterData[n].values[i].filterType.toString()==="11"?'selected="selected"':"")+" > "+this.lang.filterSelectTypes.IsNull+'<\/option >                                    <option value="12" '+(this.filterData[n].values[i].filterType.toString()==="12"?'selected="selected"':"")+" > "+this.lang.filterSelectTypes.IsNotNull+"<\/option >"),r+='<\/select>                            <\/div >                        <\/div>                        <div class="col-md-6">',i===0&&(r+='<label class="control-label">'+this.lang.filterValueLabel+"<\/label>"),r+='<div>                                <input type="text" class="grid-filter-input form-control" value="'+decodeURIComponent((this.filterData[n].values[i].filterValue+"").replace(/\+/g,"%20"))+'" />                            <\/div>                        <\/div>                    <\/div> ';r+='<div class="grid-filter-buttons" style="float:right;">                    <button type ="button" class="btn btn-primary grid-add"><b>+<\/b><\/button>';this.filterData[n].values.length>1&&(r+='<button type="button" class="btn btn-primary grid-remove" style="margin-left:10px;"><b>-<\/b><\/button>');r+="<\/div>";r+='<div class="grid-filter-buttons" style="margin-top:10px;">                    <button type="button" class="btn btn-primary grid-apply" >'+this.lang.applyFilterButtonText+"<\/button>                <\/div>            <\/div> ";u=this.filterData[n].container.find(".grid-filter-body");u&&u.remove();this.filterData[n].container.append(r)},t.prototype.registerEvents=function(t,i){var r=this.filterData[t],u=this,e=this.filterData[t].container.find(".grid-apply"),f,o,s,h;e.click(function(){var f=r.container.find(".grid-filter-cond").val(),i=r.container.find(".grid-filter-type"),e=r.container.find(".grid-filter-input"),t,n;if(i.length===e.length){for(t=[],f&&t.push({filterType:"9",filterValue:f}),n=0;n<i.length;n++)t.push({filterType:i[n].value,filterValue:e[n].value});u.cb(t)}});f=this.filterData[t].container.find(".grid-filter-input");f.keyup(function(n){n.keyCode===13&&e.click();n.keyCode===27&&GridMvc.closeOpenedPopups()}).keypress(function(n){return u.validateInput.call(r,t,n)});this.filterData[t].typeName==="System.Byte"&&f.attr("maxlength","3");o=this.filterData[t].container.find(".grid-add");o.click(function(){var e=r.container.find(".grid-filter-cond").val(),f=r.container.find(".grid-filter-type"),o=r.container.find(".grid-filter-input"),n;if(f.length===o.length){for(r.values=[],e&&(r.condition=e),n=0;n<f.length;n++)r.values.push({filterType:f[n].value,filterValue:o[n].value,columnName:t});r.values.push({filterType:"1",filterValue:"",columnName:t});u.renderWidget(t,i);u.registerEvents(t,i);u.onShow(t)}});s=this.filterData[t].container.find(".grid-remove");s.click(function(){var o=r.container.find(".grid-filter-cond").val(),f=r.container.find(".grid-filter-type"),e=r.container.find(".grid-filter-input"),n;if(f.length===e.length){for(r.values=[],o&&(r.condition=o),n=0;n<f.length;n++)r.values.push({filterType:f[n].value,filterValue:e[n].value,columnName:t});r.values.splice(e.length-1,1);u.renderWidget(t,i);u.registerEvents(t,i);u.onShow(t)}});h=this.filterData[t].container.find(".grid-filter-cond");h.change(function(){n(".grid-filter-conddis").val(this.value)})},t.prototype.validateInput=function(n,t){var i=t||window.event,r=i.keyCode||i.which,u;r=String.fromCharCode(r);switch(this.typeName){case"System.Byte":case"System.Int32":case"System.Int64":case"System.UInt32":case"System.UInt64":u=/[0-9]/;break;default:u=/[0-9]|\.|\,/}u.test(r)||(i.returnValue=!1,i.preventDefault&&i.preventDefault())},t}(window.jQuery);DateTimeFilterWidget=function(n){function t(){}return t.prototype.getAssociatedTypes=function(){return["System.DateTime","System.Date","System.DateTimeOffset"]},t.prototype.showClearFilterButton=function(){return!0},t.prototype.onShow=function(n){var t=this.filterData[n].container.find(".grid-filter-type");t.length<=0||t.last().focus()},t.prototype.onRender=function(t,i,r,u,f,e,o,s){this.datePickerIncluded=typeof n.fn.datepicker!="undefined";this.cb=o;this.data=s;this.lang=i;this.filterData||(this.filterData={});this.filterData[u]||(this.filterData[u]={});this.filterData[u].container=t;this.filterData[u].typeName=r;var h=e.find(n=>n.filterType===9&&n.filterValue&&n.columnName===u);this.filterData[u].condition=h?h.filterValue:"1";this.filterData[u].values=e.filter(n=>n.filterType!==9&&n.columnName===u);this.filterData[u].values||(this.filterData[u].values=[]);this.filterData[u].values.length===0&&this.filterData[u].values.push({filterType:"1",filterValue:"",columnName:u});this.renderWidget(u,f);this.registerEvents(u,f)},t.prototype.renderWidget=function(t,i){var u,r,f;for(this.datePickerIncluded=typeof n.fn.datepicker!="undefined",u='<div class="grid-filter-body">',r=0;r<this.filterData[t].values.length;r++)r===1?u+='<div class="form-group row">                            <div class="col-md-4 col-md-offset-4 offset-md-4">                                <select class="grid-filter-cond form-control">                                    <option value="1" '+(this.filterData[t].condition==="1"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.And+'<\/option>                                    <option value="2" '+(this.filterData[t].condition==="2"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.Or+"<\/option>                                <\/select>                            <\/div>                        <\/div>":r>1&&(u+='<div class="form-group row">                            <div class="col-md-4 col-md-offset-4 offset-md-4">                                <select class="grid-filter-conddis form-control" disabled="disabled">                                    <option value="1" '+(this.filterData[t].condition==="1"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.And+'<\/option>                                    <option value="2" '+(this.filterData[t].condition==="2"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.Or+"<\/option>                                <\/select>                            <\/div>                        <\/div>"),u+='<div class="form-group row">                        <div class="col-md-6">',r===0&&(u+='<label class="control-label">'+this.lang.filterTypeLabel+"<\/label>"),u+='<div>                                <select class="grid-filter-type form-control">                                    <option value="1" '+(this.filterData[t].values[r].filterType.toString()==="1"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.Equals+'<\/option>                                    <option value="10" '+(this.filterData[t].values[r].filterType.toString()==="10"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.NotEquals+'<\/option>                                    <option value="5" '+(this.filterData[t].values[r].filterType.toString()==="5"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.GreaterThan+'<\/option>                                    <option value="6" '+(this.filterData[t].values[r].filterType.toString()==="6"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.LessThan+'<\/option>                                    <option value="7" '+(this.filterData[t].values[r].filterType.toString()==="7"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.GreaterThanOrEquals+'<\/option>                                    <option value="8" '+(this.filterData[t].values[r].filterType.toString()==="8"?'selected="selected"':"")+">"+this.lang.filterSelectTypes.LessThanOrEquals+"<\/option>",i.toLowerCase()==="true"&&(u+='<option value="11" '+(this.filterData[t].values[r].filterType.toString()==="11"?'selected="selected"':"")+" > "+this.lang.filterSelectTypes.IsNull+'<\/option >                                    <option value="12" '+(this.filterData[t].values[r].filterType.toString()==="12"?'selected="selected"':"")+" > "+this.lang.filterSelectTypes.IsNotNull+"<\/option >"),u+='<\/select>                            <\/div>                        <\/div>                        <div class="col-md-6">',r===0&&(u+='<label class="control-label">'+this.lang.filterValueLabel+"<\/label>"),u+='<div>                                <input id="input-'+t+"-"+r.toString()+'" type="text" placeholder="yyyy-mm-dd" class="grid-filter-input form-control" value="'+decodeURIComponent((this.filterData[t].values[r].filterValue+"").replace(/\+/g,"%20"))+'" />                            <\/div>',u+=this.datePickerIncluded?'<div id="picker-'+t+"-"+r.toString()+'" class="grid-filter-datepicker"><\/div>':"",u+="<\/div>                    <\/div > ";u+='<div class="grid-filter-buttons" style="float:right;">                    <button type ="button" class="btn btn-primary grid-add"><b>+<\/b><\/button>';this.filterData[t].values.length>1&&(u+='<button type="button" class="btn btn-primary grid-remove" style="margin-left:10px;"><b>-<\/b><\/button>');u+="<\/div>";u+='<div class="grid-filter-buttons" style="margin-top:10px;">                    <button type="button" class="btn btn-primary grid-apply" >'+this.lang.applyFilterButtonText+"<\/button>                 <\/div>            <\/div> ";f=this.filterData[t].container.find(".grid-filter-body");f&&f.remove();this.filterData[t].container.append(u)},t.prototype.registerEvents=function(t,i){var u=this,r=this.filterData[t],e=this.filterData[t].container.find(".grid-apply"),f,o,s,h;e.click(function(){var f=r.container.find(".grid-filter-cond").val(),i=r.container.find(".grid-filter-type"),e=r.container.find(".grid-filter-input"),t,n;if(i.length===e.length){for(t=[],f&&t.push({filterType:"9",filterValue:f}),n=0;n<i.length;n++)t.push({filterType:i[n].value,filterValue:e[n].value});u.cb(t)}});f=this.filterData[t].container.find(".grid-filter-input");f.each(function(){n(this).click(function(){var i;if(u.datePickerIncluded){var f=n(this).attr("id"),e=f.replace("input-","picker-"),t=u.data||{};t.format=t.format||"yyyy-mm-dd";t.language=t.language||u.lang.code;i=r.container.find("#"+e);i.datepicker(t).on("changeDate",function(t){var i=r.container.find("#"+f);i.val(t.format());n(this).hide()});this.value&&i.datepicker("update",this.value);i.css({position:"relative",left:"-120px",top:"0px"});i.show()}})});f.keyup(function(n){n.keyCode===13&&e.click();n.keyCode===27&&GridMvc.closeOpenedPopups()});o=this.filterData[t].container.find(".grid-add");o.click(function(){var e=r.container.find(".grid-filter-cond").val(),f=r.container.find(".grid-filter-type"),o=r.container.find(".grid-filter-input"),n;if(f.length===o.length){for(r.values=[],e&&(r.condition=e),n=0;n<f.length;n++)r.values.push({filterType:f[n].value,filterValue:o[n].value,columnName:t});r.values.push({filterType:"1",filterValue:"",columnName:t});u.renderWidget(t,i);u.registerEvents(t,i);u.onShow(t)}});s=this.filterData[t].container.find(".grid-remove");s.click(function(){var o=r.container.find(".grid-filter-cond").val(),f=r.container.find(".grid-filter-type"),e=r.container.find(".grid-filter-input"),n;if(f.length===e.length){for(r.values=[],o&&(r.condition=o),n=0;n<f.length;n++)r.values.push({filterType:f[n].value,filterValue:e[n].value,columnName:t});r.values.splice(e.length-1,1);u.renderWidget(t,i);u.registerEvents(t,i);u.onShow(t)}});h=this.filterData[t].container.find(".grid-filter-cond");h.change(function(){n(".grid-filter-conddis").val(this.value)})},t}(window.jQuery);BooleanFilterWidget=function(n){function t(){}return t.prototype.getAssociatedTypes=function(){return["System.Boolean"]},t.prototype.showClearFilterButton=function(){return!0},t.prototype.onRender=function(n,t,i,r,u,f,e){this.cb=e;this.container=n;this.lang=t;this.value=f.length>0?f[0]:{filterType:1,filterValue:""};this.renderWidget();this.registerEvents()},t.prototype.renderWidget=function(){var n="<label>"+this.lang.filterValueLabel+'<\/label>                    <ul class="menu-list">                        <li><a class="grid-filter-choose '+(this.value.filterValue==="true"?"choose-selected":"")+'" data-value="true" href="javascript:void(0);">'+this.lang.boolTrueLabel+'<\/a><\/li>                        <li><a class="grid-filter-choose '+(this.value.filterValue==="false"?"choose-selected":"")+'" data-value="false" href="javascript:void(0);">'+this.lang.boolFalseLabel+"<\/a><\/li>                    <\/ul>";this.container.append(n)},t.prototype.registerEvents=function(){var t=this,i=this.container.find(".grid-filter-choose");i.click(function(){var i=[{filterType:"1",filterValue:n(this).attr("data-value")}];t.cb(i)})},t}(window.jQuery);ListFilterWidget=function(){function n(){}return n.prototype.getAssociatedTypes=function(){return["ListFilter"]},n.prototype.showClearFilterButton=function(){return!0},n.prototype.onRender=function(n,t,i,r,u,f,e,o){this.cb=e;this.data=o;this.lang=t;this.filterData||(this.filterData={});this.filterData[r]||(this.filterData[r]={});this.filterData[r].container=n;this.filterData[r].typeName=i;this.filterData[r].condition="2";this.filterData[r].values=f.filter(n=>n.filterType!==9&&n.columnName===r);this.filterData[r].values||(this.filterData[r].values=[]);this.filterData[r].values.length===0&&this.filterData[r].values.push({filterType:"1",filterValue:"",columnName:r});this.renderWidget(r);this.registerEvents(r)},n.prototype.renderWidget=function(n){var i='<div class="grid-filter-body">',t,r;for(i+="<label>"+this.lang.filterValueLabel+'<\/label>                        <ul class="menu-list">',t=0;t<this.data.length;t++)r=this.filterData[n].values.some(i=>i.filterType===1&&i.filterValue===this.data[t].Value&&i.columnName===n),i+='<li><input type="checkbox" class="grid-filter-list" '+(r?"checked":"")+' value="'+this.data[t].Value+'" /> '+this.data[t].Title+"<\/li >";i+="<\/ul>";i+='<div class="grid-filter-buttons" style="margin-top:10px;">                            <button type="button" class="btn btn-primary grid-apply" >'+this.lang.applyFilterButtonText+"<\/button>                        <\/div>                    <\/div> ";this.filterData[n].container.append(i)},n.prototype.registerEvents=function(n){var t=this.filterData[n],i=this,r=this.filterData[n].container.find(".grid-apply");r.click(function(){for(var u=t.container.find(".grid-filter-list"),n=[],r=0;r<u.length;r++)u[r].checked&&n.push({filterType:"1",filterValue:u[r].value});n.length>1&&n.push({filterType:"9",filterValue:"2"});i.cb(n)})},n}(window.jQuery),function(n){n&&n(function(){n(".grid-mvc").each(function(){n(".grid-mvc").gridmvc()})})}(window.jQuery);